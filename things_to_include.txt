1. Acronyms used in this document
FSK - Frequency Shift Keying
4FSK - Quaternary FSK
BPS - Bits Per Second
PTT - Push To Talk
V+D - Voice plus Data
AES - Advanced Encryption Standard
CTR - Counter (stream cipher mode)
LICH - Link Information CHannel
ECC - Error Correction Coding
SSN - Stream/Superframe Sequence Number
CRC - Cyclic Redundancy Check

2. Every transmission starts with a PREAMBLE, which shall consist of at least 40ms of alternating -3, +3, -3, +3 symbols.

3. Bit types:
Type 1 - raw data
Type 2 - type 1 bits after appropriate encoding
Type 3 - type 2 bits after puncturing (only for convolutionally coded data, for other ECC schemes type 3 bits are the same as type 2 bits)
Type 4 - interleaved (re-ordered) type 3 bits, the re-ordering scheme is given in another chapter

Type 4 bits are used for transmission over the RF. Incoming type 4 bits shall be decoded to type 1 bits, which are then used
to extract all the frame fields.

4. Frame 1 fields (Type 1 bits):
DST   - destination address			- 48 bits, encoded callsign or a special number (eg. a group)
SRC   - source address				- 48 bits, encoded callsign of the originator or a special number (eg. a group)
TYPE  - type						- 16 bits, information about incoming data stream:
											bit 0 		- packet/stream indicator, 0=packet, 1=stream
											bit 2,3 	- data type indicator, 01=data (D), 10=voice (V), 11=V+D, 00=reserved
											bit 4 		- voice codec indicator, 0=Codec2 1=other
											bit 5,6 	- encryption type, 00=none, 01=AES, 10=scrambling, 11=other/reserved
											bits ..15	- reserved (don't care)
NONCE - nonce value for encryption - 128 bits
TAIL  - 4 flushing bits for the convolutional encoder

These fields (except TAIL) form initial LICH. It contains all information needed to establish M17 link. Later in the transmission,
this channel is divided into 5 "chunks" and transmitted interleaved with data. The purpose of that is to allow late-joiners
to receive the LICH at any point of the transmission. The process of collecting full LICH takes 6 frames, that's 6*40 ms = 240 ms.
Four TAIL bits are needed for the convolutional coder to go back to state 0, so also the ending trellis position is known.

5. Frames 2, 3, 4, 5 fields:
SYNC    - synchronization burst		- 16 bits (0x3243), first 16-bit part of pi in hexadecimal notation
LICH    - LICH chunk, one of 5		- 48 bits, part of full LICH
SSN     - superframe number			- 16 bits, starts from 0 and increments every superframe (6 frames)
PAYLOAD - payload/data				- 128 bits, can contain arbitrary data
CRC     - CRC						- 16 bits, this field contains 16-bit value used to check data integrity, CRC-16 is used
TAIL    - 4 flushing bits for the convolutional encoder

6. Frame 6 fields (Type 1 bits):
TBF